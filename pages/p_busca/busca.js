// Configuração do Firebase
const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
};

// Inicialize o Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Função para criar o HTML da receita
function criarReceitaHTML(receita) {
    return `
        <div class="lista-categoria">
            <h1>${receita.tipo.toUpperCase()}</h1>
            <div class="receita">
                <div class="receita-info">
                    <h3>${receita.nome}</h3>
                    <p>Por: ${receita.autor || 'Desconhecido'}</p>
                    <div class="tempo-porção">
                        <div>
                            <svg
                                width="14"
                                height="14"
                                viewBox="0 0 14 14"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M7.7 7.1225V4.9C7.7 4.70167 7.63303 4.5353 7.4991 4.4009C7.3647 4.26697 7.19833 4.2 7 4.2C6.80167 4.2 6.63553 4.26697 6.5016 4.4009C6.3672 4.5353 6.3 4.70167 6.3 4.9V7C6.3 7.23333 6.34083 7.44917 6.4225 7.6475C6.50417 7.84583 6.62667 8.02667 6.79 8.19L8.2775 9.6775C8.4175 9.8175 8.58387 9.8875 8.7766 9.8875C8.96887 9.8875 9.135 9.8175 9.275 9.6775C9.40333 9.5375 9.4675 9.37137 9.4675 9.1791C9.4675 8.98637 9.40333 8.82583 9.275 8.6975L7.7 7.1225ZM7 1.4C6.80167 1.4 6.63553 1.46697 6.5016 1.6009C6.3672 1.7353 6.3 1.90167 6.3 2.1C6.3 2.29833 6.3672 2.4647 6.5016 2.5991C6.63553 2.73303 6.80167 2.8 7 2.8C7.19833 2.8 7.3647 2.73303 7.4991 2.5991C7.63303 2.4647 7.7 2.29833 7.7 2.1C7.7 1.90167 7.63303 1.7353 7.4991 1.6009C7.3647 1.46697 7.19833 1.4 7 1.4ZM12.6 7C12.6 6.80167 12.5328 6.6353 12.3984 6.5009C12.2645 6.36697 12.0983 6.3 11.9 6.3C11.7017 6.3 11.5355 6.36697 11.4016 6.5009C11.2672 6.6353 11.2 6.80167 11.2 7C11.2 7.19833 11.2672 7.36447 11.4016 7.4984C11.5355 7.6328 11.7017 7.7 11.9 7.7C12.0983 7.7 12.2645 7.6328 12.3984 7.4984C12.5328 7.36447 12.6 7.19833 12.6 7ZM7 11.2C6.80167 11.2 6.63553 11.2672 6.5016 11.4016C6.3672 11.5355 6.3 11.7017 6.3 11.9C6.3 12.0983 6.3672 12.2645 6.5016 12.3984C6.63553 12.5328 6.80167 12.6 7 12.6C7.19833 12.6 7.3647 12.5328 7.4991 12.3984C7.63303 12.2645 7.7 12.0983 7.7 11.9C7.7 11.7017 7.63303 11.5355 7.4991 11.4016C7.3647 11.2672 7.19833 11.2 7 11.2ZM2.8 7C2.8 6.80167 2.73303 6.6353 2.5991 6.5009C2.4647 6.36697 2.29833 6.3 2.1 6.3C1.90167 6.3 1.7353 6.36697 1.6009 6.5009C1.46697 6.6353 1.4 6.80167 1.4 7C1.4 7.19833 1.46697 7.36447 1.6009 7.4984C1.7353 7.6328 1.90167 7.7 2.1 7.7C2.29833 7.7 2.4647 7.6328 2.5991 7.4984C2.73303 7.36447 2.8 7.19833 2.8 7ZM7 14C6.03167 14 5.12167 13.8161 4.27 13.4484C3.41833 13.0811 2.6775 12.5825 2.0475 11.9525C1.4175 11.3225 0.918867 10.5817 0.5516 9.73C0.183867 8.87833 0 7.96833 0 7C0 6.03167 0.183867 5.12167 0.5516 4.27C0.918867 3.41833 1.4175 2.6775 2.0475 2.0475C2.6775 1.4175 3.41833 0.918633 4.27 0.5509C5.12167 0.183633 6.03167 0 7 0C7.96833 0 8.87833 0.183633 9.73 0.5509C10.5817 0.918633 11.3225 1.4175 11.9525 2.0475C12.5825 2.6775 13.0811 3.41833 13.4484 4.27C13.8161 5.12167 14 6.03167 14 7C14 7.96833 13.8161 8.87833 13.4484 9.73C13.0811 10.5817 12.5825 11.3225 11.9525 11.9525C11.3225 12.5825 10.5817 13.0811 9.73 13.4484C8.87833 13.8161 7.96833 14 7 14Z"
                                    fill="#000"
                                />
                            </svg>
                            Tempo: ${receita.tempo} min
                        </div>
                        <div>
                            <svg
                                width="14"
                                height="14"
                                viewBox="0 0 14 14"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M7 3.5C7.425 3.5 7.8 3.875 7.8 4.3C7.8 4.725 7.425 5.1 7 5.1C6.575 5.1 6.2 4.725 6.2 4.3C6.2 3.875 6.575 3.5 7 3.5ZM7 9.8C7.425 9.8 7.8 10.175 7.8 10.6C7.8 11.025 7.425 11.4 7 11.4C6.575 11.4 6.2 11.025 6.2 10.6C6.2 10.175 6.575 9.8 7 9.8ZM2.3 7C2.3 6.575 2.675 6.2 3.1 6.2C3.525 6.2 3.9 6.575 3.9 7C3.9 7.425 3.525 7.8 3.1 7.8C2.675 7.8 2.3 7.425 2.3 7ZM10.9 7C10.9 6.575 11.275 6.2 11.7 6.2C12.125 6.2 12.5 6.575 12.5 7C12.5 7.425 12.125 7.8 11.7 7.8C11.275 7.8 10.9 7.425 10.9 7ZM7 0.7C8.225 0.7 9.4 0.95 10.475 1.475C11.55 2 12.55 2.825 13.375 4.075C14.2 5.325 14.8 6.85 14.9 8.5C15 10.15 14.575 11.675 13.725 12.95C12.875 14.225 11.65 15 10.125 15H3.875C2.35 15 1.125 14.225 0.275 12.95C-0.575 11.675 -1 10.15 -1 8.5C-1 6.85 -0.4 5.325 0.425 4.075C1.25 2.825 2.25 2 3.325 1.475C4.4 0.95 5.575 0.7 6.8 0.7H7ZM7 0.2H6.8C5.675 0.2 4.575 0.475 3.55 1.1C2.525 1.725 1.6 2.65 0.875 3.95C0.15 5.25 -0.25 6.825 -0.25 8.5C-0.25 10.175 0.15 11.725 0.9 12.975C1.65 14.225 2.825 15 4.25 15H10.75C12.175 15 13.35 14.225 14.1 12.975C14.85 11.725 15.25 10.175 15.25 8.5C15.25 6.825 14.85 5.25 14.125 3.95C13.4 2.65 12.475 1.725 11.45 1.1C10.425 0.475 9.325 0.2 8.2 0.2H7Z"
                                    fill="#000"
                                />
                            </svg>
                            Porções: ${receita.porcoes}
                        </div>
                    </div>
                </div>
                <div class="receita-img">
                    <img src="https://via.placeholder.com/200" alt="${receita.nome}">
                </div>
            </div>
        </div>
    `;
}

// Função para buscar receitas do Firestore e atualizar o HTML
async function carregarReceitas() {
    const receitasContainer = document.getElementById('receitas-container');
    const receitasRef = db.collection('receitas');
    const snapshot = await receitasRef.get();

    if (snapshot.empty) {
        receitasContainer.innerHTML = '<p>Nenhuma receita encontrada.</p>';
        return;
    }

    snapshot.forEach(doc => {
        const receita = doc.data();
        receitasContainer.innerHTML += criarReceitaHTML(receita);
    });
}

// Chama a função para carregar as receitas
carregarReceitas();